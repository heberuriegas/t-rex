(this["webpackJsonpt-rex"]=this["webpackJsonpt-rex"]||[]).push([[0],{18:function(t,e){t.exports="data:image/png;base64,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"},19:function(t,e,i){t.exports=i.p+"static/media/press.217f1c0d.ogx"},20:function(t,e,i){t.exports=i.p+"static/media/reach.70507912.ogx"},21:function(t,e,i){t.exports=i.p+"static/media/hit.f77027a4.ogx"},22:function(t,e,i){t.exports=i(35)},33:function(t,e,i){},34:function(t,e,i){},35:function(t,e,i){"use strict";i.r(e);var s=i(0),n=i.n(s),a=i(6),r=i(5),h=i(12),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START_GAME":return Object(h.a)({},t,{isPlaying:!0});case"STOP_GAME":return Object(h.a)({},t,{isPlaying:!1});case"SET_LEVEL":return Object(h.a)({},t,{level:e.level});default:return t}},c=Object(r.b)({game:o}),u=i(9),l=i.n(u),d=(i(33),function(t){return{type:"SET_LEVEL",level:t}}),p=Object(a.b)((function(t){return{isPlaying:t.game.isPlaying}}),(function(t){return{startGame:function(e){document.activeElement.blur(),t({type:"START_GAME"})},stopGame:function(e){document.activeElement.blur(),t({type:"STOP_GAME"})}}}))((function(t){var e=t.isPlaying,i=t.stopGame,s=t.startGame;return n.a.createElement("button",{onClick:e?i.bind(void 0):s.bind(void 0)},e?"Stop Game":"Start Game")})),v=function(){return n.a.createElement("header",{className:"App-header"},"the rushed t-rex",n.a.createElement(p,null))},m=i(1),f=i(2),g=i(3),y=i(4),w={SIZE:{width:window.innerWidth<482?window.innerWidth:482,height:150}},S={SIZE:{width:1233,height:68},CACTUS_LARGE:{x:332,y:2,width:150,height:50},CACTUS_SMALL:{x:228,y:2,width:102,height:35},CLOUD:{x:86,y:2,width:46,height:13},HORIZON:{x:2,y:54,width:1198,height:14},MOON:{x:484,y:2,width:20,height:40,widthFullMoon:40},PTERODACTYL:{x:134,y:8,width:46,height:34,yWingsOpen:2,heightWingsOpen:30},RESTART:{x:2,y:2,width:36,height:32},NUMBER:{x:655,y:2,width:10,height:11},GAME_OVER:{x:655,y:13,width:191,height:13},TREX:{x:848,y:2,width:44,height:47,widthDiff:15,heightDiff:17},STAR:{x:645,y:2,width:9,height:9}},O=i(11),b=i(8),k=i(18),P=i.n(k),A={JUMP:[38,32],DOWN:[40]},I={RESTART:[13]},E=null,T=function(t){Object.keys(I).forEach((function(e){I[e].includes(t.keyCode)&&E.handleInput(e,"keydown")})),Object.keys(A).forEach((function(e){A[e].includes(t.keyCode)&&E.character.handleInput(e,"keydown")}))},j=function(t){Object.keys(I).forEach((function(e){I[e].includes(t.keyCode)&&E.handleInput(e,"keyup")})),Object.keys(A).forEach((function(e){A[e].includes(t.keyCode)&&E.character.handleInput(e,"keyup")}))},x=null,N=function(t){t.preventDefault(),x=t.touches[0].clientY},R=function(t){t.preventDefault()},M=function(t){t.changedTouches[0].clientY>document.querySelector("header").clientHeight&&(t.preventDefault(),x>t.changedTouches[0].clientY+5?"RUNNING"===E.character.state?E.character.jump():E.character.run():x<t.changedTouches[0].clientY-5?E.character.down():E.isGameOver?E.restartGame():(E.character.state="RUNNING",E.character.jump()),x=null)},G=function(){function t(e,i){Object(m.a)(this,t),this.sceneSize=w.SIZE,this.spriteSize=S.SIZE,this.active=!0,this.posX=0,this.posY=0,this.name=e,this.gameInstance=i,this.actorProperties=S[e]}return Object(f.a)(t,[{key:"spriteX",value:function(){return this.actorProperties.x}},{key:"spriteY",value:function(){return this.actorProperties.y}},{key:"x",value:function(){return this.posX}},{key:"y",value:function(){return this.posY}},{key:"width",value:function(){return this.actorProperties.width}},{key:"height",value:function(){return this.actorProperties.height}},{key:"coordinates",value:function(){return[[this.x(),this.y()],[this.x()+this.width(),this.y()+this.height()]]}},{key:"isOverlappedBy",value:function(t){var e=this.coordinates(),i=t.coordinates(),s=e[0][0],n=e[0][1],a=e[1][0],r=e[1][1],h=i[0][0],o=i[0][1],c=i[1][0],u=i[1][1];return a>=h&&s<=c&&n<=u&&r>=o}},{key:"drawCoordinates",value:function(){return[[this.spriteX(),this.spriteY(),this.width(),this.height(),this.x(),this.y(),this.width(),this.height()]]}}],[{key:"spawnSeed",value:function(){return Math.random()*(this.spawnRange[0]-this.spawnRange[1])+this.spawnRange[1]}}]),t}();G.spawnRange=[2,0];var z=G,C=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"NUMBER",t)).highScore=0,s.currentScore=0,s.lastHundredScore=0,s.blink=!1,s.blinkCounter=0,s.hideCurrentScore=!1,s.posX=s.sceneSize.width/3*2,s.posX+14*s.actorProperties.width>s.sceneSize.width&&(s.posX=s.sceneSize.width-14*s.actorProperties.width),s.posY=s.sceneSize.height/6,s}return Object(f.a)(i,[{key:"blinkScore",value:function(){var t=this;this.gameInstance.isGameOver||(this.blink=!0,this.hideCurrentScore=!this.hideCurrentScore,0===this.blinkCounter&&this.gameInstance.soundFx.playSound("REACH"),++this.blinkCounter,this.gameInstance.lastTimeoutId=setTimeout((function(){6===t.blinkCounter?(t.blink=!1,t.blinkCounter=0):t.blinkScore()}),300))}},{key:"drawCoordinates",value:function(){for(var t=[],e=this.highScore,i=4;i>=0;--i){var s=Math.floor(e/Math.pow(10,i));t.push([this.spriteX()+this.width()*s,this.spriteY(),this.width(),this.height(),this.x()+4*this.width()-this.width()*i,this.y(),this.width(),this.height()]),e-=s*Math.pow(10,i)}for(var n=5;n<=6;++n)t.push([this.spriteX()+this.width()*(n+5),this.spriteY(),this.width(),this.height(),this.x()+this.width()*n,this.y(),this.width(),this.height()]);if(!this.hideCurrentScore){e=this.currentScore;for(var a=4;a>=0;--a){var r=Math.floor(e/Math.pow(10,a));2===a&&(r!==this.lastHundredScore&&this.blinkScore(),this.lastHundredScore=r),this.blink&&a<=1?t.push([this.spriteX(),this.spriteY(),this.width(),this.height(),this.x()+11*this.width()-this.width()*a,this.y(),this.width(),this.height()]):t.push([this.spriteX()+this.width()*r,this.spriteY(),this.width(),this.height(),this.x()+11*this.width()-this.width()*a,this.y(),this.width(),this.height()]),e-=r*Math.pow(10,a)}}return t}}]),i}(z),X=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"HORIZON",t)).posX=0,s.posY=s.sceneSize.height-s.height(),s.updatePosition(),s}return Object(f.a)(i,[{key:"updatePosition",value:function(){!this.gameInstance.isGameOver&&this.active&&(this.posX+=this.gameInstance.speed,requestAnimationFrame(this.updatePosition.bind(this)))}},{key:"drawCoordinates",value:function(){this.spriteX()+this.x()>=this.width()&&(this.posX=0);var t=[[this.spriteX()+this.x(),this.spriteY(),this.sceneSize.width,this.height(),0,this.y(),this.sceneSize.width,this.height()]];return this.spriteX()+this.x()+this.sceneSize.width>=this.width()&&t.push([this.spriteX()+this.x()-this.width(),this.spriteY(),this.sceneSize.width,this.height(),0,this.y(),this.sceneSize.width,this.height()]),t}}]),i}(z),L=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"CLOUD",t)).posX=s.sceneSize.width,s.posY=i.ySeed(),s.updatePosition(),s}return Object(f.a)(i,[{key:"updatePosition",value:function(){var t=this;!this.gameInstance.isGameOver&&this.active&&(this.posX-=.5,this.x()+this.width()<0?this.gameInstance.lastTimeoutId=setTimeout((function(){t.posX=t.sceneSize.width,t.posY=i.ySeed(),requestAnimationFrame(t.updatePosition.bind(t))}),1e3*i.spawnSeed()):requestAnimationFrame(this.updatePosition.bind(this)))}}],[{key:"ySeed",value:function(){return Math.random()*(i.yRange[0]-i.yRange[1])+i.yRange[1]}}]),i}(z);L.spawnRange=[10,3],L.yRange=[100,10];var D=L,Y=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"MOON",t)).posX=s.sceneSize.width,s.posY=30,s.currentMoon=i.seedMoon(),s.updatePosition(),s}return Object(f.a)(i,[{key:"spriteX",value:function(){return this.actorProperties.x+this.actorProperties.width*this.currentMoon}},{key:"width",value:function(){return 3===this.currentMoon?2*this.actorProperties.width:this.actorProperties.width}},{key:"updatePosition",value:function(){var t=this;!this.gameInstance.isGameOver&&this.active&&(this.posX-=.2,this.x()+this.width()<0?this.gameInstance.lastTimeoutId=setTimeout((function(){t.posX=t.sceneSize.width,t.currentMoon=i.seedMoon(),requestAnimationFrame(t.updatePosition.bind(t))}),42e3):requestAnimationFrame(this.updatePosition.bind(this)))}}],[{key:"seedMoon",value:function(){return Math.floor(6*Math.random())}}]),i}(z),U=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"STAR",t)).posX=s.sceneSize.width,s.posY=i.ySeed(),s.currentStar=i.seedStar(),s.updatePosition(),s}return Object(f.a)(i,[{key:"spriteY",value:function(){return this.actorProperties.y+this.actorProperties.height*this.currentStar}},{key:"updatePosition",value:function(){var t=this;!this.gameInstance.isGameOver&&this.active&&(this.posX-=.2,this.x()+this.width()<0?this.gameInstance.lastTimeoutId=setTimeout((function(){t.posX=t.sceneSize.width,t.posY=i.ySeed(),t.currentStar=i.seedStar(),requestAnimationFrame(t.updatePosition.bind(t))}),42e3):requestAnimationFrame(this.updatePosition.bind(this)))}}],[{key:"ySeed",value:function(){return Math.random()*(i.yRange[0]-i.yRange[1])+i.yRange[1]}},{key:"seedStar",value:function(){return Math.floor(3*Math.random())}}]),i}(z);U.yRange=[100,10];var F=U,Z=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t,s){var n;return Object(m.a)(this,i),(n=e.call(this,t,s)).posX=n.sceneSize.width,n.posY=n.sceneSize.height-n.actorProperties.height,n.cactusPosition=n.positionSeed(),n.cactusCount=1,n}return Object(f.a)(i,[{key:"spriteX",value:function(){return this.actorProperties.x+this.cactusPosition}},{key:"width",value:function(){return this.actorProperties.width/6*this.cactusCount}},{key:"positionSeed",value:function(){var t=[0,this.actorProperties.width/2];return t[Math.floor(Math.random()*t.length)]}},{key:"show",value:function(){this.posX=this.sceneSize.width,this.cactusCount=i.countSeed(),this.cactusPosition=this.positionSeed(),this.updatePosition()}},{key:"updatePosition",value:function(){!this.gameInstance.isGameOver&&this.active&&(this.isOverlappedBy(this.gameInstance.character)&&this.gameInstance.gameOver(),this.posX-=this.gameInstance.speed,this.x()+this.width()<0?this.gameInstance.obstaclesQueue.add(this):requestAnimationFrame(this.updatePosition.bind(this)))}}],[{key:"countSeed",value:function(){var t=[1,1,1,1,2,2,2,3,3];return Math.ceil(Math.random()*t[Math.floor(Math.random()*t.length)]-1+1)}}]),i}(z),W=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){return Object(m.a)(this,i),e.call(this,"CACTUS_SMALL",t)}return i}(Z),B=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){return Object(m.a)(this,i),e.call(this,"CACTUS_LARGE",t)}return i}(Z),H=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"PTERODACTYL",t)).posX=s.sceneSize.width,s.posY=i.ySeed(),s.wingsOpen=!1,s.speed=s.gameInstance.speed+i.speedSeed(),s.animate(),s}return Object(f.a)(i,[{key:"animate",value:function(){var t=this;this.gameInstance.lastTimeoutId=setTimeout((function(){t.wingsOpen=!t.wingsOpen,t.animate()}),250)}},{key:"spriteX",value:function(){return this.wingsOpen?this.actorProperties.x+this.width():this.actorProperties.x}},{key:"spriteY",value:function(){return this.wingsOpen?this.actorProperties.yWingsOpen:this.actorProperties.y}},{key:"y",value:function(){return this.wingsOpen?this.posY-6:this.posY}},{key:"height",value:function(){return this.wingsOpen?this.actorProperties.heightWingsOpen:this.actorProperties.height}},{key:"show",value:function(){this.posX=this.sceneSize.width,this.speed=this.gameInstance.speed+i.speedSeed(),this.posY=i.ySeed(),this.updatePosition()}},{key:"updatePosition",value:function(){!this.gameInstance.isGameOver&&this.active&&(this.isOverlappedBy(this.gameInstance.character)&&this.gameInstance.gameOver(),this.posX-=this.speed,this.x()+this.width()<0?this.gameInstance.obstaclesQueue.add(this):requestAnimationFrame(this.updatePosition.bind(this)))}}],[{key:"ySeed",value:function(){return Math.random()*(this.yRange[0]-this.yRange[1])+this.yRange[1]}},{key:"speedSeed",value:function(){return Math.random()*(this.speedRange[0]-this.speedRange[1])+this.speedRange[1]}}]),i}(z);H.yRange=[100,30],H.speedRange=[.5,-.5];var Q=H,q=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"TREX",t)).STATES={STAND:"STAND",RUNNING:"RUNNING",JUMPING:"JUMPING",DEATH:"DEATH",DOWN:"DOWN"},s.STATE_POSITION={STAND_0:0,STAND_1:1,JUMPING_0:0,JUMPING_1:0,RUNNING_0:2,RUNNING_1:3,DEATH_0:4,DEATH_1:5,DOWN_0:6,DOWN_1:7},s.state="RUNNING",s.isJumping=!1,s.offsetY=0,s.position=!1,s.extraFallSpeed=!1,s.animate(),s}return Object(f.a)(i,[{key:"changeState",value:function(t){this.state=t}},{key:"x",value:function(){return 20}},{key:"y",value:function(){return this.offsetY+this.sceneSize.height-this.height()}},{key:"spriteX",value:function(){if("DOWN"===this.state){var t=this.actorProperties.x;return t+=6*this.actorProperties.width,t+=(this.STATE_POSITION[this.state+"_"+(this.position?"1":"0")]-6)*(this.actorProperties.width+this.actorProperties.widthDiff)}return this.actorProperties.x+this.STATE_POSITION[this.state+"_"+(this.position?"1":"0")]*this.actorProperties.width}},{key:"spriteY",value:function(){return"DOWN"===this.state?this.actorProperties.y+this.actorProperties.heightDiff:this.actorProperties.y}},{key:"width",value:function(){return"DOWN"===this.state?this.actorProperties.width+this.actorProperties.widthDiff:this.actorProperties.width}},{key:"height",value:function(){return"DOWN"===this.state?this.actorProperties.height-this.actorProperties.heightDiff:this.actorProperties.height}},{key:"animate",value:function(){var t=this;this.gameInstance.lastTimeoutId=setTimeout((function(){t.position=!t.position,t.animate()}),200-10*this.gameInstance.speed)}},{key:"coordinates",value:function(){var t=this.x()+15,e=this.width()-30,i=this.y()+10,s=this.height()-20;return"DOWN"===this.state&&(i=this.y()+5,s=this.height()-10),[[t,i],[t+e,i+s]]}},{key:"raise",value:function(){this.offsetY>-1*(this.sceneSize.height-1.5*this.height())&&!this.extraFallSpeed?(this.offsetY-=4,requestAnimationFrame(this.raise.bind(this))):this.fall()}},{key:"fall",value:function(){this.offsetY<0?(this.offsetY+=4,this.extraFallSpeed&&(this.offsetY+=3),requestAnimationFrame(this.fall.bind(this))):(this.offsetY=0,this.isJumping=!1)}},{key:"jump",value:function(){this.isJumping||(this.extraFallSpeed=!1,this.isJumping=!0,this.gameInstance.soundFx.playSound("PRESS"),this.raise())}},{key:"down",value:function(){this.state="DOWN",this.extraFallSpeed=!0}},{key:"run",value:function(){this.state="RUNNING",this.extraFallSpeed=!1}},{key:"handleInput",value:function(t,e){if(!this.gameInstance.isGameOver)switch(t){case"DOWN":"keydown"===e?this.down():"keyup"===e&&this.run();break;case"JUMP":"keydown"===e&&this.jump()}}}]),i}(z),J=i(19),V=i.n(J),K=i(20),_=i.n(K),$=i(21),tt=i.n($),et=function(){function t(){Object(m.a)(this,t),this.press=new Audio,this.press.src=V.a,this.reach=new Audio,this.reach.src=_.a,this.hit=new Audio,this.hit.src=tt.a}return Object(f.a)(t,[{key:"playSound",value:function(t){switch(t){case"PRESS":this.press.play();break;case"HIT":this.hit.play();break;case"REACH":this.reach.play()}}}]),t}(),it=function(){function t(){Object(m.a)(this,t),this.data=[]}return Object(f.a)(t,[{key:"add",value:function(t){this.data.unshift(t)}},{key:"remove",value:function(){return this.data.pop()}},{key:"last",value:function(){return this.data[0]}},{key:"next",value:function(){return this.data[this.data.length-1]}},{key:"size",value:function(){return this.data.length}},{key:"clear",value:function(){this.data=[]}}]),t}(),st=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"GAME_OVER",t)).posX=s.sceneSize.width/2-s.width()/2,s.posY=s.sceneSize.height/3-s.height()/2,s}return i}(z),nt=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,"RESTART",t)).posX=s.sceneSize.width/2-s.width()/2,s.posY=s.sceneSize.height/3*2-s.height()/2,s}return i}(z),at=function(){function t(){Object(m.a)(this,t),this.canvas=document.querySelector(".runner-canvas"),this.ctx=this.canvas.getContext("2d"),this.dispatch=null,this.image=new Image,this.image.src=P.a,this.initializeCallback=this.initialize.bind(this),this.image.onload=this.initializeCallback,this.soundFx=new et,this.levelDuration=15,this.firstTimeoutId=null,this.lastTimeoutId=null,this.actors=[],this.obstaclesQueue=new it,this.debug=!1,E=this,document.removeEventListener("keydown",T),document.addEventListener("keydown",T),document.removeEventListener("keyup",j),document.addEventListener("keyup",j),document.removeEventListener("touchstart",N),document.addEventListener("touchstart",N),document.removeEventListener("touchmove",R),document.addEventListener("touchmove",R),document.removeEventListener("touchend",M),document.addEventListener("touchend",M)}return Object(f.a)(t,[{key:"initialize",value:function(){var t=this;this.isGameOver=!1,this.actors=[],this.obstaclesQueue.clear(),this.restartLevel(),this.incrementLevel(),this.removeListeners(),this.speed=5,this.incrementSpeed(),this.generateCactus(),this.generatePterodactyls(),this.actors.sort((function(){return Math.random()-.5})).forEach((function(e){return t.obstaclesQueue.add(e)})),this.showObstacle(),this.actors.push(new X(this)),this.generateClouds(),this.generateSky(),this.character=new q(this),this.score=new C(this);var e=parseInt(localStorage.getItem("highScore"));e&&(this.score.highScore=e),this.incrementScore(),this.draw()}},{key:"removeListeners",value:function(){this.canvas.removeEventListener("click",this.initializeCallback,!1)}},{key:"removePendingActions",value:function(){if(this.firstTimeoutId&&this.lastTimeoutId)for(;this.lastTimeoutId>=this.firstTimeoutId;)clearTimeout(this.lastTimeoutId),clearInterval(this.lastTimeoutId),--this.lastTimeoutId}},{key:"generateClouds",value:function(){for(var t=this,e=0;e<5;++e)this.lastTimeoutId=setTimeout((function(){t.actors.push(new D(t))}),1e3*D.spawnSeed()*e)}},{key:"generateSky",value:function(){for(var t=this,e=0;e<2;++e)this.lastTimeoutId=setTimeout((function(){return t.actors.push(new F(t))}),21e3+4e3*e);this.lastTimeoutId=setTimeout((function(){return t.actors.push(new Y(t))}),33e3);for(var i=3;i<5;++i)this.lastTimeoutId=setTimeout((function(){return t.actors.push(new F(t))}),33e3+4e3*i)}},{key:"generateCactus",value:function(){for(var t=0;t<15;++t)if(t<10){var e=new W(this);this.actors.push(e)}else{var i=new B(this);this.actors.push(i)}}},{key:"generatePterodactyls",value:function(){for(var t=0;t<4;++t){var e=new Q(this);this.actors.push(e)}}},{key:"restartGame",value:function(){this.gameOver(),this.initialize()}},{key:"gameOver",value:function(){this.soundFx.playSound("HIT"),this.character.state="DEATH",this.isGameOver=!0;var t=parseInt(localStorage.getItem("highScore"));(t<this.score.currentScore||!t)&&localStorage.setItem("highScore",this.score.currentScore),this.actors.push(new st(this)),this.actors.push(new nt(this)),this.canvas.addEventListener("click",this.initializeCallback,!1),this.actors.forEach((function(t){return t.active=!1})),this.removePendingActions()}},{key:"restartLevel",value:function(){this.level=0,this.dispatch(d(this.level))}},{key:"incrementLevel",value:function(){this.level?++this.level:this.level=1,this.soundFx.playSound("REACH"),this.dispatch(d(this.level))}},{key:"incrementSpeed",value:function(){var t=this;this.lastTimeoutId=setInterval((function(){t.isGameOver||(t.incrementLevel(),++t.speed)}),1e3*this.levelDuration),this.firstTimeoutId||(this.firstTimeoutId=this.lastTimeoutId)}},{key:"incrementScore",value:function(){var t=this;this.lastTimeoutId=setTimeout((function(){t.isGameOver||(++t.score.currentScore,t.incrementScore())}),100)}},{key:"handleInput",value:function(t,e){switch(t){case"RESTART":"keyup"===e&&this.restartGame()}}},{key:"showObstacle",value:function(){var t=this,e=this.obstaclesQueue.next(),i=600;e&&"PTERODACTYL"===e.name&&(i=400),this.lastTimeoutId=setTimeout((function(){var e=t.obstaclesQueue.remove();e&&!t.isGameOver&&(e.show(),t.showObstacle())}),i+1e3*z.spawnSeed())}},{key:"draw",value:function(){this.ctx.clearRect(0,0,w.SIZE.width,w.SIZE.height);var t,e=Object(b.a)(this.actors);try{for(e.s();!(t=e.n()).done;){var i,s=t.value,n=Object(b.a)(s.drawCoordinates());try{for(n.s();!(i=n.n()).done;){var a,r=i.value;if(this.debug&&"HORIZON"!==s.name){var h=s.coordinates();this.ctx.beginPath(),this.ctx.strokeStyle="blue",this.ctx.arc(h[0][0],h[0][1],2,0,2*Math.PI,!1),this.ctx.arc(h[1][0],h[0][1],2,0,2*Math.PI,!1),this.ctx.arc(h[1][0],h[1][1],2,0,2*Math.PI,!1),this.ctx.arc(h[0][0],h[1][1],2,0,2*Math.PI,!1),this.ctx.arc(h[0][0],h[0][1],2,0,2*Math.PI,!1),this.ctx.stroke()}(a=this.ctx).drawImage.apply(a,[this.image].concat(Object(O.a)(r)))}}catch(f){n.e(f)}finally{n.f()}}}catch(f){e.e(f)}finally{e.f()}if(this.score){var o,c=Object(b.a)(this.score.drawCoordinates());try{for(c.s();!(o=c.n()).done;){var u,l=o.value;(u=this.ctx).drawImage.apply(u,[this.image].concat(Object(O.a)(l)))}}catch(f){c.e(f)}finally{c.f()}}if(this.character){var d,p=Object(b.a)(this.character.drawCoordinates());try{for(p.s();!(d=p.n()).done;){var v,m=d.value;(v=this.ctx).drawImage.apply(v,[this.image].concat(Object(O.a)(m)))}}catch(f){p.e(f)}finally{p.f()}}this.isGameOver||requestAnimationFrame(this.draw.bind(this))}}]),t}(),rt=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(){return Object(m.a)(this,i),e.apply(this,arguments)}return Object(f.a)(i,[{key:"render",value:function(){var t={width:this.props.progress+"%",height:"100%",backgroundColor:this.props.color};return n.a.createElement("div",{className:"progress-bar",style:{width:"100%",height:"2px",border:"1px solid #999999"}},n.a.createElement("div",{className:"progress-bar-fill",style:t}))}}]),i}(n.a.Component);rt.defaultProps={progress:0,color:"#282c34"};var ht=rt,ot=function(t){Object(y.a)(i,t);var e=Object(g.a)(i);function i(t){var s;return Object(m.a)(this,i),(s=e.call(this,t)).game=null,s.progressBarTimeoutId=null,s.state={levelProgress:0},s}return Object(f.a)(i,[{key:"componentDidUpdate",value:function(t,e,i){this.props.isPlaying&&!this.game?(this.game=new at,this.game.dispatch=this.props.dispatch):this.props.isPlaying||(this.game&&this.game.gameOver(),this.game=null),this.props.level!==t.level&&(this.setState({levelProgress:0}),clearTimeout(this.progressBarTimeoutId),this.startTiming())}},{key:"startTiming",value:function(){var t=this;this.props.level>0&&this.game&&!this.game.isGameOver&&(this.progressBarTimeoutId=setTimeout((function(){t.state.levelProgress<100&&(t.setState({levelProgress:t.state.levelProgress+1}),t.startTiming())}),1e3*this.game.levelDuration/100))}},{key:"render",value:function(){return this.props.isPlaying?n.a.createElement("div",{id:"scene",style:{marginTop:"25px",verscrollBehavior:"none"}},n.a.createElement("center",null,"Level: ",this.props.level),n.a.createElement("div",{style:{width:w.SIZE.width,marginLeft:"auto",marginRight:"auto",marginBottom:"25px"}},n.a.createElement(ht,{progress:this.state.levelProgress})),n.a.createElement("canvas",{className:"runner-canvas",width:w.SIZE.width,height:w.SIZE.height})):null}}]),i}(n.a.Component);ot.defaultProps={level:0};var ct=Object(a.b)((function(t){return{isPlaying:t.game.isPlaying,level:t.game.level}}))(ot);i(34);var ut=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(v,null),n.a.createElement(ct,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=Object(r.c)(c);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(a.a,{store:lt},n.a.createElement(ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.954b2e18.chunk.js.map